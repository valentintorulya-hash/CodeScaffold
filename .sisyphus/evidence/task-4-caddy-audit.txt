Task 4 - Proxy/Ports Audit (Caddy)
Date: 2026-02-17

Source of truth: Caddyfile

Relevant Caddyfile excerpt:
1: :81 {
2: 	@transform_port_query {
3: 		query XTransformPort=*
4: 	}
...
6: 	handle @transform_port_query {
7: 		reverse_proxy localhost:{query.XTransformPort} {
...
15: 	handle {
16: 		reverse_proxy localhost:3000 {
...
23: }

Findings:
- Listener port is `:81` (line 1).
- Default proxy target is `localhost:3000` in the catch-all `handle` block (lines 15-16).
- When query parameter `XTransformPort` is present, matcher `@transform_port_query` activates and request is proxied to `localhost:{query.XTransformPort}` (lines 2-7), overriding the default target for that request.

Operational note:
- Runtime verification is currently blocked because `caddy` is missing from PATH in this environment (`which caddy` returned "no caddy in (...)").
